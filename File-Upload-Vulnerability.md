# File Upload Vulnerability 

In this attack an file is upload with the required filters with respect to the extension like jpg and png then that file is intercepted by the use of burp suite software to rename that file back to the orginal extension. 

**example**  shell.php.jpg ---> (filters jpg, png) ---> intercept ---> rename shell.php

## Steps for performing file upload vulnerability 

1. Getting started with DVWA and Burp suit. 

The first thing to do for starting with file upload vulberability is to login to DVWA and change the file setting to low as shown in the image below and then going to file upload section for further actions. 

![image](https://user-images.githubusercontent.com/60937657/196630617-1a125625-fe64-4267-ae08-e4ab4c3f9fb1.png)

![image](https://user-images.githubusercontent.com/60937657/196630729-bae808ff-2e56-45af-b8be-56f72ea87c3f.png)

2. Upload file 

To upload a file in the file upload vulberability section we can click on the browse section and upload the file. Now, that uploaded file can be a shell with different extension or we can create a shell by the use of weevely for disrupting the server. In our case we will use a normal png file which will be intercepted in future for changing the extension fot jpg. 

![image](https://user-images.githubusercontent.com/60937657/196632157-3d6ca115-fed0-4788-9b22-8eaaa761e8f1.png)

**do not click on upload**

3. Starting with burpsuit 

**there are 2 ways** 

Firstly we can change the proxy setting from no proxy to manual proxy configuration and then start burpsuit as show in the image below. 

Steps ---> go to setting of firefox ---> Search for proxy 

![image](https://user-images.githubusercontent.com/60937657/196633102-96dc1a6b-1384-4adb-b4fb-e60c3d83f0d4.png)

Secondaly we can either install foxyproxy extension and then turn on to the burpuits option without changing the proxy setting to manual. 

![image](https://user-images.githubusercontent.com/60937657/196633501-a955760d-907e-40d6-873d-01307350d47a.png)

4. Open Burpsuit 

![image](https://user-images.githubusercontent.com/60937657/196634510-6cc9b3ff-5279-46fe-b2d5-b8901f41fffc.png)

Turn the intercept to on. 

And click on **upload** in firefox and you will see that the request is ready to get intercept in burpsuit. 

![image](https://user-images.githubusercontent.com/60937657/196635122-e3ee5121-fad4-4fa0-935e-63e3ccaed5d8.png)

Go to the **Content-Disposition** section and change the file extension.

![image](https://user-images.githubusercontent.com/60937657/196635450-ce6191e5-18ad-4517-8340-803cd797c101.png)

Now forward the request and you will see that the file with changed extension is uploaded. 

![image](https://user-images.githubusercontent.com/60937657/196635719-f633d802-0802-47e6-835c-2b4ea92a5aa1.png)

![image](https://user-images.githubusercontent.com/60937657/196635895-3c2a0dcb-77bc-4d75-b655-34fb4c8f506d.png)

**File upload vulnerability is Done !!**

## Precaution 






